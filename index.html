<!DOCTYPE html>
<html>
  <body>
    <h1>Simple Reply Message Application</h1>
    <button id="gfs_button">Get GFS Code</button>
    <script src="/socket.io/socket.io.js"></script>

    <script>

      var socket = io('ws://localhost:3000');

      socket.on('new-gfs', function(data){
        /**
          * this event happens when backend emits new-gfs event
          */
        console.log('socket event new-gfs', data);
      });

      /**
       * this event happens when backend emits gfs-received event
       * so we listen to the event
       */
      socket.on('gfs-received', function(data){
        <!--console.log('socket event gfs-received', data);-->
        var newData = JSON.stringify(data);
        alert(newData);
      });

      document.getElementById('gfs_button').addEventListener('click', function(){
        socket.emit('gfs');
      });
    </script>
  </body>
</html>
